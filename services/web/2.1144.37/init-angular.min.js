!function(){function a(a,b){this.deferred=b,this.scriptLoader=a,this.ANGULAR_RESOURCES_TO_LOAD=[]}function b(a){angular.module("utilsDirectives",["utils","angularEditor","editorInterop"]),angular.module("dialogs",["utilsDirectives","utils","wixElements","htmlTemplates","newSavePublish"]),a.push("dialogs")}function c(a){angular.module("propertyPanel",["wixElements","utilsDirectives","utils","angularEditor","editorInterop","dialogs","htmlTemplates"]),a.push("propertyPanel")}if(W.AngularLoader.registerAdditionalModule("PagesBackgroundCustomizer",[]),W.AngularLoader.registerAdditionalModule("EditorUserPanel",["angularEditor"]),a.prototype.initialize=function(){var a=this;window.resource.getResourceValue("angularResource",function(b){b?b.loadAngularResources(a.ANGULAR_RESOURCES_TO_LOAD,a.scriptLoader,a._onLoadingComplete.bind(a)):a._onLoadingComplete(d)})},a.prototype._onLoadingComplete=function(){this._initAngularModules(),this._setExperimentsStateInAngularModule(),this.deferred.resolve()},a.prototype._initAngularModules=function(){var a=W.AngularLoader.getAdditionalModules(),d=[];_.forEach(a,function(a){angular.module(a.name,a.dependencies),d.push(a.name)}),angular.module("additionalApps",d),angular.module("editorInterop",[]),angular.module("htmlTemplates",[]),angular.module("angularEditor",["editorInterop"]),angular.module("utils",["angularEditor","editorInterop"]),angular.module("wixElements",["utilsDirectives","utils","angularEditor","editorInterop","htmlTemplates"]);var e=["additionalApps"];W.isExperimentOpen("NGDialogManagement")&&b(e),W.isExperimentOpen("ngpromotedialog")&&(angular.module("utilsDirectives",["utils","angularEditor","editorInterop"]),angular.module("newSavePublish",["utilsDirectives","utils","wixElements","htmlTemplates"]),e.push("newSavePublish")),W.isExperimentOpen("WixCode")&&(angular.module("cloud-providers",[]),angular.module("cloud-initialization",["cloud-providers"]),angular.module("cloud",["cloud-initialization","angularEditor","editorInterop","utils","wixElements","htmlTemplates","newSavePublish"]),e.push("cloud")),W.isExperimentOpen("NGPanels")&&c(e),angular.module("Editor",e)},a.prototype._setExperimentsStateInAngularModule=function(){var a=W.Experiments.getAllDefinedExperimentIds(),b=W.Experiments.getRunningExperimentIds(),c={};_.forEach(a,function(a){c[a]=!1}),_.forEach(b,function(a){c[a]=!0}),_.forEach(c,function(a,b){angular.module("angularEditor").constant("EXP_"+b,a)},this)},W.isExperimentOpen("NGCore")){window.W=window.W||{},window.W.AngularLoader=window.W.AngularLoader||{};var d=window.W.AngularLoader.getAngularLoadingDeferredPromise();resource.getResourceValue("scriptLoader",function(b){var c=new a(b,d);c.initialize()})}}();